{% extends "PasswordManagerCoreBundle::layout.html.twig" %}
{% block passwordmanager_platform_body_index %}
    <div id="list-server"  class="py-5 gradient-overlay bg-dark text-white">
        <div class="container">
            <div class="row">
                <div class="py-5 col-md-12">
                    <div class="row">

                        <div class="text-center col-4"><i class="fa fa-spinner fa-5x" aria-hidden="true"></i></div>
                        <div class="col-8">
                            <h5 class="mb-3"><b>Générateur de mot de passe</b></h5>
                            <p class="my-1">Cet outil vous permettra de générer un mot de passe complexe, aléatoire, de 8 caractères</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
    <h2 id="list-mdp-title" >Générateur de mot de passe</h2>
    <p style="text-align: center;"><i class="fa fa-unlock fa-5x" aria-hidden="true"></i></p>
        <div class="container">
            <div class="row">
                <div class="col-md-3">
                </div>
                <div class="col-md-6">
                    <div class="well" id="generator-pass">
                    <script type="text/javascript">
                        //<![CDATA[
                        var chars=new Array( "abcdefghijklmnopqrstuvwxyz".split(''),"abcdefghijklmnopqrstuvwxyz".toUpperCase().split(''),"0123456789".split(''),"!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~".split(''));
                        function generate(){
                            var level= 4
                            var long=8
                            var rep=new Array();
                            myrand=new Date().getMilliseconds();

                            while(level>1){
                                templong=Math.ceil(Math.random(myrand)*(long-(--level))) ;
                                rep.push(templong);
                                long=long-templong;
                            }
                            rep.push(long)
                            var password=new Array();
                            var i=-1;
                            while(rep[++i]){
                                BaseL=chars[i].length
                                j=-1;
                                while((j++<rep[i]-1) && (password.push (chars[i][Math.floor(Math.random(Math.pow(new Date().getMilliseconds(),3))*BaseL)]))){}
                            }
                            document.getElementById('res').value=password.sort(sortRand).reverse().sort(sortRand).sort(sortRand).reverse().join('')
                        }
                        function sortRand(){return (Math.round(Math.random(myrand))-0.5); }
                        //]]>
                    </script>
                    <script>
                        new Clipboard('.field-clipboard');
                    </script>
                    <div id="cont">
                        <div class="field">
                            <p style="text-align:center;margin:20px 0 10px 0;">
                                <b>Mot de passe : </b>
                                <span id="selc-text-2" ><input class="selc-text" type='text' id='res' value='' readonly="readonly" /></span>
                            </p>
                        </div>
                        <div class="last field">
                            <p style="text-align:center;margin:20px 0 10px 0;">
                                <input type="button" class="btn btn-primary" onclick="generate()" value = "Générer un mot de passe aléatoire" />
                            <button style="float:right;margin-right:20px;" class="field-clipboard" data-clipboard-target=".selc-text">
                                <img  style="width:16px;" src="{{ absolute_url(asset('img/copy.png')) }}" alt="Copier dans le presse-papier" title="Copier dans le presse-papier">
                            </button>
                            </p>
                            <p style="color:#868e96;text-align:center;margin:20px 0 10px 0;"><i class="fa fa-asterisk" aria-hidden="true"><span style="margin-left:10px;">Cliquer sur l'icone pour copier directement le mot de passe dans le presse-papier</span></i></p>
                        </div>
                    </div>
                    </div>
                </div>
                <div class="col-md-3">

                </div>
            </div>
        </div>
    </div>
{% endblock %}